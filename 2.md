##  loglist -2017.12.18


1.获取企业下物流车监控列表(分页)
- 所属模块：Logisticals
- 请求URL：http://192.168.30.103:8099/mobileApi/logisticals/getLogisticsMonitoringList
- 问题描述:服务端数据库表结构发生编号，方法重新写
- 状态：完成 
- 处理人：dfq

2.按订单状态获取经销商订单列表
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/getProductOrderList
- 参数:
	- 用户登录状态
	- OrderStatus [int] 订单状态  0 全部 1 待收货 1 已收货
	- PageIndex [int] 当前页
	- PageSize [int] 每页显示条数
- 参考参数：
	- header  - token:62f9008b26c04558a103362b8367cacc
	- OrderStatus 0 
	- PageIndex 1
	- PageSize  10
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": [
        {
            "OrderNo": "20171218000001",
            "OrderTime": "2017-08-24 13:26:04",
            "ChildList": [
                {
                    "OrderNo": "20171218000001",
                    "Version": "CB1002履带",
                    "PicUrl": "BaseProFile/CB1002履带/20173610023643.jpeg",
                    "ProduceUnitName": "一拖集团",
                    "ProductNum": 1,
                    "ReceivedNum": 0//未收货的自己算
                }
            ]
        }
    ]
}
- 状态：完成 
- 处理人：dfq

2.按照订单编号收货( 物流 )  -扫码收货
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/takeDeliveryOfGoodsByOrder
- 参数:
	- 用户登录状态
	- ProductCode [string] 农机编号  
	- OrderNo [string] 订单编号
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": 0
- 状态：完成 
- 处理人：dfq

3.确定订单-经销商  -所有收货完成后调用，确认订单的完成状态
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/confirmAnOrder
- 参数:
	- OrderNo [string] 订单编号
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": true
- 状态：完成 
- 处理人：dfq

4.根据订单编号获取车辆详情列表
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/getOrderProductList
- 参数:
	- OrderNo [string] 订单编号
	- PageIndex [int] 当前页
	- PageSize [int] 每页显示条数
- 参考参数：
    - OrderNo 20171218000001
	- PageIndex 1
	- PageSize 10
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": [
        {
            "Version": "CB1002履带",
            "LogisticalId": 31,
            "Status": 1,
            "Id": 439,
            "Code": "31714982",
            "Name": "轮式拖拉机",
            "DeviceNo": "YTO00001294",
            "IsDk": false,
            "IsNew": 0,
            "ProductState": 2,
            "DkMapID": null,
            "UnitId": 48,
            "CompanyId": null,
            "DealerWarehouseId": null,
            "WarehouseId": 4,
            "WarehouseName": null,
            "PicUrl": "ShopFile/31714902/20170112060148.jpg",
            "UserId": null,
            "CompanyWareTime": null,
            "CompanySaleTime": null,
            "UnitSaleTime": null,
            "ProductBaseId": 25,
            "CreateDate": "2017-10-13 11:59:48",
            "CreateUserId": null,
            "UpdateTime": null,
            "UpdateUserId": null,
            "OneKeyBindTime": "2017-12-17 10:54:21",
            "HouseTime": "2017-10-20 09:25:34",
            "produceTime": "2017-10-13 11:59:48",
            "ProductType": 1,
            "CompanyName": "上海雷尼威尔物联网有限公司",
            "ProvinceCode": "310000",
            "CityCode": "310100",
            "RegionCode": "310117",
            "Longitude": "121.251852",
            "Latitude": "31.029823",
            "CoOpCompanyId": null
        }
    ]
}
- 状态：完成 
- 处理人：dfq

5.按照物流编号收货  -单个按钮，点击收货
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/takeDeliveryOfGoodsByLogisticalId
- 参数:
	- Id [int] 物流编号  
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": true
    }
- 状态：完成 
- 处理人：dfq

6.按照物流编号收货
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/takeDeliveryOfGoodsByLogisticalId
- 参数:
    - 登录状态 
	- Id [int] 物流编号  
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": true
    }
- 状态：完成 
- 处理人：dfq


7.获取订单详情
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/getOrderDetail
- 参数:
	- OrderNo [string] 订单编号  
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": {
        "ChildList": [
            {
                "OrderNo": "20171218000001",
                "Version": "CB1002履带",
                "PicUrl": "/BaseProFile/CB1002履带/20173610023643.jpeg",
                "ProduceUnitName": "一拖集团",
                "ProductNum": 1,
                "ReceivedNum": 0
            }
        ],
        "OrderNo": "20171218000001",
        "EstimatedTime": "2017-09-01 15:09:11",
        "OrderCount": 18,
        "Consignee": "邯郸县恒丰农业机械有限公司",
        "TotalPrice": 10000,
        "Tel": " 021-88888888",
        "Address": "河北省馆陶县恒丰农业机械有限公司"
    }
}
- 状态：完成 
- 处理人：dfq

8.全部确认收货  -订单详情页的确认收货
- 所属模块：dealerOrder
- 请求URL：http://192.168.30.103:8099/mobileApi/dealerOrder/confirmAllProduct
- 参数:
	- OrderNo [string] 订单编号  
- 返回值：
    {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": true
    }
- 状态：完成 
- 处理人：dfq

9.忘记密码 -重置密码操作(有短信验证码)
- 所属模块：account
http://localhost:3366/mobileApi/account/forgetPwd
- 参数：
    - phone=17612345677 、 code=061408 、 pwd=123456
- 返回值
	{
		"mStatusCode": 200,
		"mStatusDesc": "OK",
		"mDataBody": true
	}
- 状态：完成 
- 处理人：yy

10.获取保养记录列表 -农机主
- 所属模块：maintainHistory
- 请求URL：http://192.168.30.103:8099/mobileApi/maintainHistory/getMaintainHistoryList
- 参数:
    - 用户登录状态
	- DefaultNum [int] 显示待保养条数
	- PageIndex [int] 当前页
	- PageSize  [int] 每页显示条数
- 参考参数：
	- header  - token:2a9f33c1f2c14f77bda883cd1383714a
	- DefaultNum 3
	- PageIndex 1
	- PageSize  10
- 返回值：
        {
        "mStatusCode": 200,
        "mStatusDesc": "OK",
        "mDataBody": {
            "List": [
                {
                    "ChildList": [
                        {
                            "HealtProjectName": "上机油",
                            "HealtDes": "test",
                            "Id": 59,
                            "ProductCode": "301717707",
                            "UserId": 6,
                            "HealthBaseId": 1,
                            "AddTime": "2017-12-13 17:48:37",
                            "MaintImg": null,
                            "MaintDes": null,
                            "StateFlag": 0
                        }
                    ],
                    "Code": "301717707",
                    "Name": "东方红2BMF免耕播种机",
                    "DeviceNo": "YTO00001696",
                    "PicUrl": "",
                    "Version": "CB1002履带"
                }
            ],
            "NoCount": 0
        }
}
- 状态：完成 
- 处理人：dfq

11.根据农机编号获取农机的保养记录列表
- 所属模块：maintainHistory
- 请求URL：http://192.168.30.103:8099/mobileApi/maintainHistory/getProductMaintainHistoryList
- 参数:
   
	- ProductCode [string] 农机编号
	- PageIndex [int] 当前页
	- PageSize  [int] 每页显示条数
- 参考参数：
	- ProductCode 31714909
	- PageIndex 1
	- PageSize  10
- 返回值：
       {
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": {
        "ChildList": [
            {
                "HealtProjectName": "检查轮胎",
                "HealtDes": "test",
                "Id": 55,
                "ProductCode": "31714909",
                "UserId": 1039,
                "HealthBaseId": 2,
                "AddTime": "2017-12-04 00:00:00",
                "MaintImg": null,
                "MaintDes": null,
                "StateFlag": 0
            }
        ],
        "Code": "31714909",
        "Name": "轮式拖拉机",
        "DeviceNo": "YTO00001164",
        "PicUrl": "ShopFile/31714909/20171112061127.jpg",
        "Version": "智锐LF1304"
    }
}
- 状态：完成 
- 处理人：dfq

12.获取保养详细 -所有保养详情页
- 所属模块：maintainHistory
- 请求URL：http://192.168.30.103:8099/mobileApi/maintainHistory/getMaintainHistoryDetail
- 参数:
	- id [int] 主键
- 参考参数：
	- id 50
- 返回值：
{
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": {
        "Code": "31714928",
        "Name": "轮式拖拉机",
        "DeviceNo": "YTO00001196",
        "PicUrl": "ShopFile/31714928/20172012062037.jpg",
        "Version": "智锐LF1304",
        "HealtProjectName": "上机油",
        "HealtDes": "test",
        "UserName": "朱东红",
        "Id": 50,
        "ProductCode": "31714928",
        "UserId": 3,
        "HealthBaseId": 1,
        "AddTime": "2017-07-20 00:00:00",
        "MaintImg": null,
        "MaintDes": null,
        "StateFlag": 0
    }
}
- 状态：完成 
- 处理人：dfq

13.获取经销商进货记录
- 所属模块：Dealer
- 请求URL：http://192.168.30.103:8099/mobileApi/dealer/getPurchasesInfo
- 状态：完成 
- 处理人：yy

14.处理保养
- 所属模块：maintainHistory
- 请求URL：http://192.168.30.103:8099/mobileApi/maintainHistory/dealMaintain
- 参数:
	- id [int] 主键
    - DealResult [string] 处理结果描述
    - Path [string] 图片路径
- 返回值：
{
    "mStatusCode": 200,
    "mStatusDesc": "OK",
    "mDataBody": true
}
- 状态：完成 
- 处理人：dfq

15. 故障详情（未解决的故障）
- 所属模块：Account
- 请求URL：http://192.168.30.103:8099/mobileApi/account/getUnsolveFaultInfo
- 状态：完成 
- 处理人：yy

16.获取企业下的经销商进货记录
- 所属模块：Account
- 请求URL：http://192.168.30.103:8099/mobileApi/account/getAccountPurchasesInfo
- 状态：完成 
- 处理人：yy


17.故障-某农机故障列表 - 单个农机的故障列表(分页)
- 所属模块：owner
- 请求URL：http://192.168.30.103:8099/mobileApi/owner/getFaultList
- 问题描述:500 未将对象引用设置到对象的实例。
- 参考参数：
    - code:301717712
- 解决办法：重构
- 状态：完成 
- 处理人：dfq
